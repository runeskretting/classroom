{% extends "base.html" %}

{% block title %}Quiz - {{ module.title }}{% endblock %}

{% block content %}
<div class="quiz-page">
    <div class="quiz-header">
        <h1>Module {{ module_id }} Quiz</h1>
        <p>Answer all questions to test your understanding. You need 75% to pass.</p>
    </div>

    <form method="POST" class="quiz-form">
        {% for i, question in enumerate(module.quiz) %}
            <div class="question-card">
                <div class="question-number">Question {{ i + 1 }} of {{ module.quiz|length }}</div>
                <h3 class="question-text">{{ question.question }}</h3>

                <div class="options">
                    {% for j, option in enumerate(question.options) %}
                        <label class="option-label">
                            <input type="radio" name="q{{ i }}" value="{{ j }}" required>
                            <span class="option-text">{{ option }}</span>
                        </label>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}

        <div class="quiz-actions">
            <a href="{{ url_for('module', module_id=module_id) }}" class="btn btn-secondary">
                Back to Module
            </a>
            <button type="submit" class="btn btn-primary">Submit Quiz</button>
        </div>
    </form>
</div>
{% endblock %}
